/**
 * ๐ฑ ุชููุฏ ตฐ ููุงูู NLP ูุงุฑุณ ุจุง ุฐุฎุฑูโุณุงุฒ JSON
 */

const fs = require('fs');
const path = require('path');

// ููุถูุนุงุช NLP ูุงุฑุณ (50 ููุถูุน)
const NLP_TOPICS = [
  'ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน ฺุณุชุ',
  'ุชุงุฑุฎฺู NLP',
  'ฺฉุงุฑุจุฑุฏูุง ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน',
  'ฺุงูุดโูุง NLP ุจุฑุง ุฒุจุงู ูุงุฑุณ',
  'ูุนูุงุฑ ุณุณุชูโูุง NLP',
  'ูพุงูพโูุงู ูพุฑุฏุงุฒุด ูุชู',
  'ูพุดโูพุฑุฏุงุฒุด ูุชู ูุงุฑุณ',
  'ูุฑูุงูุงุฒ ฺฉุฑุฏู ูุชู',
  'ุชูฺฉูุงุฒ ฺฉุฑุฏู ูุชู ูุงุฑุณ',
  'ุฑุดูโุงุจ ฺฉููุงุช ูุงุฑุณ',
  'ุญุฐู ุงุณุชุงูพโูุฑุฏูุง ูุงุฑุณ',
  'ุชุดุฎุต ุจุฎุดโูุง ฺฏูุชุงุฑ',
  'ุชุญูู ูุญู ุฌููู',
  'ุชุดุฎุต ููุฌูุฏุชโูุง ูุงูโุฏุงุฑ',
  'ุชุญูู ูุงุจุณุชฺฏโูุง ูุญู',
  'ุชุดุฎุต ูุฑุฌุน ุถูุฑ',
  'ุงุณุชุฎุฑุงุฌ ุฑูุงุจุท ูุนูุง',
  'ุชุดุฎุต ุงุญุณุงุณุงุช ูุชู',
  'ุชุดุฎุต ูุญู ูุชู',
  'ุชุดุฎุต ููุถูุน ูุชู',
  'ูุฏูโูุง ุฒุจุงู ุขูุงุฑ',
  'ูุฏูโูุง n-gram',
  'ูุฏูโูุง ุฒุจุงู ุนุตุจ',
  'Word Embeddings ฺุณุชุ',
  'Word2Vec ุจุฑุง ูุงุฑุณ',
  'GloVe ุจุฑุง ุฒุจุงู ูุงุฑุณ',
  'FastText ู ฺฉุงุฑุจุฑุฏูุง ุขู',
  'BERT ู ุงูููุงุจ ุฏุฑ NLP',
  'ูุนูุงุฑ ุชุฑูุณููุฑูุฑ',
  'ุขุดูุง ุจุง GPT',
  'RoBERTa ู ุจูุจูุฏูุง ุขู',
  'ูุฏูโูุง ฺูุฏุฒุจุงูู',
  'XLM-RoBERTa',
  'mBERT ุจุฑุง ูุงุฑุณ',
  'ูุฏูโูุง ุชููุฏ ูุชู',
  'T5: Text-to-Text Transfer',
  'BART ุจุฑุง ุฎูุงุตูโุณุงุฒ',
  'ุฏุณุชูโุจูุฏ ูุชู ูุงุฑุณ',
  'ฺฉูุงุณูุงุฑูุง ูุชู',
  'SVM ุจุฑุง ุทุจููโุจูุฏ ูุชู',
  'ุดุจฺฉูโูุง ุนุตุจ ุจุฑุง NLP',
  'LSTM ุจุฑุง ูพุฑุฏุงุฒุด ุชูุงู',
  'GRU ู ฺฉุงุฑุจุฑุฏูุง ุขู',
  'ุดุจฺฉูโูุง ฺฉุงูููููุดู ุจุฑุง ูุชู',
  'ุชุฑฺฉุจ CNN ู LSTM',
  'ุขุดูุง ุจุง Hugging Face',
  'ุงุณุชูุงุฏู ุงุฒ Transformers',
  'ูพุงูพโูุงู Hugging Face',
  'ุชููุฏ ุฏุชุงุณุช ูุงุฑุณ',
  'ูุดุงููโฺฏุฐุงุฑ ุฏุชุงุณุช'
];

// ุชููุฏ ูุญุชูุง ููุงูู
function generateArticleContent(topic, id) {
  return `ููุงูู ุดูุงุฑู ${id} ุจุง ููุถูุน "${topic}"

## ููุฏูู
ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน (Natural Language Processing) ุง NLPุ ุดุงุฎูโุง ุงุฒ ููุด ูุตููุน ุงุณุช ฺฉู ุจู ุชุนุงูู ุจู ฺฉุงููพูุชุฑ ู ุฒุจุงู ุงูุณุงู ูโูพุฑุฏุงุฒุฏ.

## ุงููุช ${topic}
ุงููุช "${topic}" ุฏุฑ ฺฉุงุฑุจุฑุฏูุง ุนูู ุขู ูููุชู ุงุณุช. ุงุฒ ุงู ุชฺฉููููฺ ุฏุฑ ููุงุฑุฏ ุฒุฑ ุงุณุชูุงุฏู ูโุดูุฏ:
1. ุณุณุชูโูุง ุฌุณุชุฌู ููุดููุฏ
2. ุฏุณุชุงุฑูุง ูุฌุงุฒ
3. ุชุญูู ุงุญุณุงุณุงุช
4. ุชุฑุฌูู ูุงุดู
5. ุฎูุงุตูโุณุงุฒ ุฎูุฏฺฉุงุฑ

## ูุชุฌูโฺฏุฑ
"${topic}" ูุฑุตุชโูุง ุฒุงุฏ ุฑุง ุจุฑุง ูุญููุงู ู ุชูุณุนูโุฏููุฏฺฏุงู ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุช.

---
*ุงู ููุงูู ุชูุณุท ุณุณุชู ูุทู ูุตุทูุญ ุชููุฏ ุดุฏู ุงุณุช.*`;
}

// ุชููุฏ slug
function generateSlug(text) {
  return text
    .replace(/[^\u0600-\u06FF\w\s-]/g, '')
    .trim()
    .replace(/\s+/g, '-')
    .replace(/--+/g, '-')
    .toLowerCase();
}

// ุงุฌุงุฏ ุฏุงุฏูโูุง ููููู
async function createJSONDatabase() {
  console.log('๐ฑ ุดุฑูุน ุชููุฏ ตฐ ููุงูู NLP ูุงุฑุณ...');
  
  const dataPath = path.join(__dirname, '../data/articles.json');
  const dataDir = path.dirname(dataPath);
  
  // ุงุฌุงุฏ ูพูุดู data ุงฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ
  if (!fs.existsSync(dataDir)) {
    fs.mkdirSync(dataDir, { recursive: true });
  }
  
  const categories = ['ุขููุฒุด', 'ูพุฑูฺู', 'ุชุญูู', 'ุงุฎุจุงุฑ', 'ฺฉุชุงุจุฎุงูู', 'ุชูุณุนู'];
  const tagsList = ['NLP', 'ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน', 'ููุด ูุตููุน', 'ูุงุฑุณ', 'ูพุงุชูู', 'ุงุฏฺฏุฑ ูุงุดู'];
  
  const articles = [];
  
  const startTime = Date.now();
  
  for (let i = 0; i < 50; i++) {
    const topic = NLP_TOPICS[i % NLP_TOPICS.length];
    const title = topic;
    const content = generateArticleContent(topic, i + 1);
    const slug = generateSlug(title);
    const excerpt = content.substring(0, 100) + '...';
    const category = categories[i % categories.length];
    const tags = [tagsList[i % tagsList.length], tagsList[(i + 1) % tagsList.length]];
    const views = Math.floor(Math.random() * 1000) + 100;
    const likes = Math.floor(Math.random() * 500) + 10;
    const shares = Math.floor(Math.random() * 100) + 5;
    const featured = i % 10 === 0;
    const created_at = new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toISOString();
    
    articles.push({
      id: i + 1,
      title,
      slug,
      content,
      excerpt,
      author: 'ุชู ูุทู ูุตุทูุญ',
      category,
      tags,
      views,
      likes,
      shares,
      featured,
      status: 'published',
      created_at
    });
    
    if ((i + 1) % 10 === 0) {
      console.log(`๐ ุชููุฏ ููุงูู ${i + 1} ุงุฒ ตฐ`);
    }
  }
  
  // ุฐุฎุฑู ุฏุฑ ูุงู JSON
  fs.writeFileSync(dataPath, JSON.stringify(articles, null, 2), 'utf8');
  
  const endTime = Date.now();
  const duration = ((endTime - startTime) / 1000).toFixed(2);
  
  console.log(`
โ ุชููุฏ ุฏุงุฏูโูุง ฺฉุงูู ุดุฏ!
๐ ุชุนุฏุงุฏ ููุงูุงุช: ${articles.length} ููุงูู
๐ ูุณุฑ ูุงู: ${dataPath}
โฑ๏ธ  ุฒูุงู ุงุฌุฑุง: ${duration} ุซุงูู
    
๐ ุณุณุชู ุขูุงุฏู ุงุณุช! ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
    
    node src/server/json-app.js
    `);
}

// ุงุฌุฑุง ุงุณฺฉุฑูพุช
createJSONDatabase();
